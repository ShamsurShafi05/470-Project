{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\This PC\\\\Desktop\\\\Club Management Website 470\\\\frontend\\\\src\\\\components\\\\EventKeyInfo.jsx\",\n  _s = $RefreshSig$();\nimport formatDate from \"../utils/FormatDate\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons';\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'; // Import heart icon\nimport { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const EventKeyInfo = ({\n  event\n}) => {\n  _s();\n  const [interestCount, setInterestCount] = useState(Number(event.like));\n  const [interestStatus, setInterestStatus] = useState(false);\n  const handleClick = async () => {\n    let updatedCount = interestCount;\n    if (!interestStatus) {\n      updatedCount += 1;\n    } else {\n      updatedCount -= 1;\n    }\n    setInterestCount(updatedCount);\n    setInterestStatus(!interestStatus);\n\n    // Update like count in the database\n    try {\n      const response = await fetch(`/api/events/${event._id}`, {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          like: updatedCount\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to update like count');\n      }\n    } catch (error) {\n      console.error('Error updating like count:', error);\n    }\n  };\n  console.log(`After update:`, event.like);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"EventKeyInfo\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"Interested\",\n      onClick: handleClick,\n      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faHeart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), \" \", interestCount, \" Likes\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Date\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: formatDate(event.date)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Time\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: event.time\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Location\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: event.location\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Link\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: event.link,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faFacebook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(EventKeyInfo, \"XUMVXa6OflxFTdsPVEVcGr/YukE=\");\n_c = EventKeyInfo;\nexport default EventKeyInfo;\nvar _c;\n$RefreshReg$(_c, \"EventKeyInfo\");","map":{"version":3,"names":["formatDate","FontAwesomeIcon","faFacebook","faHeart","useState","useEffect","jsxDEV","_jsxDEV","EventKeyInfo","event","_s","interestCount","setInterestCount","Number","like","interestStatus","setInterestStatus","handleClick","updatedCount","response","fetch","_id","method","headers","body","JSON","stringify","ok","Error","error","console","log","className","children","onClick","icon","fileName","_jsxFileName","lineNumber","columnNumber","date","time","location","href","link","target","rel","_c","$RefreshReg$"],"sources":["C:/Users/This PC/Desktop/Club Management Website 470/frontend/src/components/EventKeyInfo.jsx"],"sourcesContent":["import formatDate from \"../utils/FormatDate\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFacebook } from '@fortawesome/free-brands-svg-icons';\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'; // Import heart icon\r\nimport  { useState, useEffect } from 'react';\r\n\r\n\r\nexport const EventKeyInfo = ({ event }) => {\r\n    const [interestCount, setInterestCount] = useState(Number(event.like));\r\n    const [interestStatus, setInterestStatus] = useState(false);\r\n\r\n    const handleClick = async () => {\r\n        let updatedCount = interestCount;\r\n        if (!interestStatus) {\r\n            updatedCount += 1;\r\n        } else {\r\n            updatedCount -= 1;\r\n        }\r\n        setInterestCount(updatedCount);\r\n        setInterestStatus(!interestStatus);\r\n\r\n        // Update like count in the database\r\n        try {\r\n            const response = await fetch(`/api/events/${event._id}`, {\r\n                method: 'PATCH',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({ like: updatedCount })\r\n            });\r\n            if (!response.ok) {\r\n                throw new Error('Failed to update like count');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error updating like count:', error);\r\n        }\r\n    };\r\n\r\n    console.log(`After update:`,event.like);\r\n\r\n    return (\r\n        <div className=\"EventKeyInfo\">\r\n            {/* Display heart icon with the number of likes */}\r\n            <button className=\"Interested\" onClick={handleClick}>\r\n                <FontAwesomeIcon icon={faHeart} /> {interestCount} Likes\r\n            </button>\r\n            <p>Date</p>\r\n            <p><strong>{ formatDate(event.date) }</strong></p>\r\n            <p>Time</p>\r\n            <p><strong>{ event.time }</strong></p>\r\n            <p>Location</p>\r\n            <p><strong>{ event.location }</strong></p>\r\n            <p>Link</p>\r\n            <div>\r\n            <a href={ event.link } target=\"_blank\" rel=\"noopener noreferrer\">\r\n                <FontAwesomeIcon icon={faFacebook} />\r\n            </a>\r\n            </div>\r\n        </div>\r\n      );\r\n}\r\n \r\nexport default EventKeyInfo;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}